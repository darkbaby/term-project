{"changed":true,"filter":false,"title":"courses_controller_spec.rb","tooltip":"/spec/controllers/courses_controller_spec.rb","value":"require 'rails_helper'\nrequire 'spec_helper'\n\ndescribe RoomsController do\n    \n    describe 'show_course' do\n        it \"is all course\" do\n            get :show_course\n            response.should render_template 'show_course'\n        end\n    end\n    \n    describe '#add_course' do\n        before(:each) do\n            @rec = Room.new(:name=>\"ENGR316\" ,:building=>\"ENGR\" ,:tools=>\"YOYOYO\" ,:capacity=>2000)\n            @rec.save\n            @rec2 = Course.new(:rname=>\"ENGR316\" ,:cname=>\"CN666\" ,:day=>\"Monday\" ,:time=>\"8.00-9.30\")\n            @rec2.save\n        end\n        it 'should render add course form page' do\n            get :add_courseform\n            response.should render_template 'add_courseform'\n        end\n        it 'should add a new course' do\n            post :add_course, {:course=>\"cn320\" ,:room_name=>\"ENGR316\" ,:day=>\"Monday\" ,:time=>\"13.30-15.00\"}\n            flash[:notice].should_not be_nil\n        end\n        it 'should dont add a new course(name blank)' do\n            post :add_course, {:course=>\"\" ,:room_name=>\"ENGR316\" ,:day=>\"Monday\" ,:time=>\"13.30-15.00\"}\n            response.should render_template 'add_courseform'\n        end\n        it 'should dont add a new course(time overlap)' do\n            post :add_course, {:course=>\"CN700\" ,:room_name=>\"ENGR316\" ,:day=>\"Monday\" ,:time=>\"8.00-9.30\"}\n            response.should render_template 'add_courseform'\n            flash[:notice].should_not be_nil\n        end\n    end\n\n    describe '#destroy' do\n        before(:each) do\n            @dump = Course.new(:cname=>\"CN322\" ,:rname=>\"ENGR322\" ,:day=>\"Sunday\" ,:time=>\"8.00-9.30\")\n            @dump.save\n        end\n        it \"deletes the course\" do \n            post :destroy, {:id => @dump.id}\n            flash[:notice].should_not be_nil\n        end \n    end\n    \nend","undoManager":{"mark":0,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":257,"scrollleft":0,"selection":{"start":{"row":41,"column":22},"end":{"row":41,"column":22},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":70,"mode":"ace/mode/ruby"}},"timestamp":1430070410000}